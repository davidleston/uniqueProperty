angular.module("davidLeston.uniqueProperty",[]).directive("uniqueProperty",function(){"use strict";return{restrict:"A",require:"ngModel",scope:{object:"=uniquePropertyObject",collection:"=uniquePropertyCollection",propertyPath:"@uniquePropertyPath"},link:function(t,e,o,n){n.$validators.uniqueProperty=function(e){return!t.object||!t.propertyPath||!_.chain(t.collection).values().without(t.object).map(t.propertyPath).includes(e).value()};var r=_.noop,i=function(){r(),r=t.$watchGroup(_.map(t.collection,function(e){return function(){return _.get(e,t.propertyPath)}}),n.$validate)},c=_.noop,u=function(){c(),c=t.$watchCollection("collection",function(){i(),n.$validate()})};t.$watchGroup(["object","collection","propertyPath"],function(){u(),n.$validate()}),u(),n.$validate()}}});